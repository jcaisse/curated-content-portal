# Production Environment Configuration for EC2 Deployment
# Copy this file to .env.ec2 and fill in ALL values
# DO NOT commit .env.ec2 - it contains secrets

# =============================================================================
# DATABASE CONFIGURATION (REQUIRED)
# =============================================================================
# Full PostgreSQL connection string
DATABASE_URL="postgresql://postgres:YOUR_POSTGRES_PASSWORD_HERE@db:5432/curated_content_portal?schema=public"

# Individual PostgreSQL settings
POSTGRES_USER="postgres"
POSTGRES_PASSWORD="YOUR_STRONG_POSTGRES_PASSWORD_HERE"  # ⚠️ MINIMUM 20 characters
POSTGRES_DB="curated_content_portal"
POSTGRES_PORT="5432"

# =============================================================================
# NEXTAUTH CONFIGURATION (REQUIRED)
# =============================================================================
# Must match your public URL (e.g., http://44.198.212.206:3000 or https://yourdomain.com)
NEXTAUTH_URL="http://44.198.212.206:3000"

# Generate with: openssl rand -base64 32
NEXTAUTH_SECRET="YOUR_32_CHAR_NEXTAUTH_SECRET_HERE"  # ⚠️ MINIMUM 32 characters

# =============================================================================
# ADMIN USER CONFIGURATION (REQUIRED)
# =============================================================================
ADMIN_EMAIL="admin@example.com"  # Your admin email
ADMIN_PASSWORD="YOUR_STRONG_ADMIN_PASSWORD_HERE"  # ⚠️ MINIMUM 20 characters for production

# =============================================================================
# SECURITY CONFIGURATION (REQUIRED)
# =============================================================================
# Generate with: openssl rand -base64 32 | tr -d '=' | head -c 32
ADMIN_INGEST_KEY="YOUR_32_CHAR_INGEST_KEY_HERE"  # ⚠️ MINIMUM 32 characters

# Password hashing (defaults are fine)
BCRYPT_ROUNDS="12"
SESSION_MAX_AGE="86400"

# Rate limiting
RATE_LIMIT_REQUESTS_PER_MINUTE="60"
RATE_LIMIT_BURST="10"

# =============================================================================
# AI CONFIGURATION (REQUIRED for AI features)
# =============================================================================
OPENAI_API_KEY="sk-YOUR_OPENAI_API_KEY_HERE"  # Get from OpenAI dashboard
OPENAI_MODEL="gpt-4o-mini"
AI_DISABLED="false"  # Set to "true" to disable AI features

# =============================================================================
# APP CONFIGURATION (REQUIRED)
# =============================================================================
NODE_ENV="production"  # ⚠️ DO NOT CHANGE
APP_PORT="3000"
PORT="3000"
DOMAIN="44.198.212.206"  # Or your custom domain (without http://)
EMAIL="noreply@example.com"  # System email address
LOG_LEVEL="info"  # Options: error, warn, info, debug

# =============================================================================
# CONTENT CONFIGURATION (Optional - has defaults)
# =============================================================================
RSS_FEED_URLS=""  # Comma-separated RSS feed URLs (optional)
WEB_CRAWL_ENABLED="true"
CRAWL_INTERVAL_HOURS="24"
MAX_CRAWL_ITEMS_PER_RUN="100"
CONTENT_REVIEW_THRESHOLD="0.7"
AUTO_PUBLISH_ENABLED="false"
FILE_STORAGE_STRATEGY="url_only"

# =============================================================================
# ANALYTICS (Optional)
# =============================================================================
ANALYTICS_ENABLED="false"
GOOGLE_ANALYTICS_ID=""

# =============================================================================
# REDIS (Optional - for caching)
# =============================================================================
REDIS_URL="redis://redis:6379"

# =============================================================================
# GENERATION COMMANDS
# =============================================================================
# Run these commands to generate secure secrets:
#
# NEXTAUTH_SECRET:
#   openssl rand -base64 32
#
# ADMIN_INGEST_KEY:
#   openssl rand -base64 32 | tr -d '=' | head -c 32
#
# POSTGRES_PASSWORD:
#   openssl rand -base64 32 | tr -d '='
#
# ADMIN_PASSWORD:
#   Use a password manager or:
#   openssl rand -base64 32


